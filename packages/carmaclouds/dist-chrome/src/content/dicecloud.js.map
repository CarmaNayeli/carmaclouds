{
  "version": 3,
  "sources": ["../../../src/content/dicecloud.js"],
  "sourcesContent": ["/**\r\n * DiceCloud Content Script\r\n * Adds sync button to DiceCloud website and captures character data\r\n */\r\n\r\nconsole.log('CarmaClouds: DiceCloud content script loaded');\r\n\r\n// Wait for page to load\r\nfunction waitForPageLoad() {\r\n  if (document.readyState === 'loading') {\r\n    document.addEventListener('DOMContentLoaded', initializeDiceCloudSync);\r\n  } else {\r\n    initializeDiceCloudSync();\r\n  }\r\n}\r\n\r\n// Initialize the DiceCloud sync functionality\r\nfunction initializeDiceCloudSync() {\r\n  console.log('CarmaClouds: Initializing DiceCloud sync...');\r\n  \r\n  // Wait a bit for any dynamic content to load\r\n  setTimeout(() => {\r\n    console.log('CarmaClouds: Attempting to add sync button...');\r\n    addSyncButtonToDiceCloud();\r\n  }, 1000); // Reduced from 2000ms to 1000ms for faster appearance\r\n}\r\n\r\n// Add sync button to DiceCloud interface\r\nfunction addSyncButtonToDiceCloud() {\r\n  console.log('CarmaClouds: addSyncButtonToDiceCloud called');\r\n  \r\n  // Check if button already exists\r\n  if (document.querySelector('#carmaclouds-sync-btn')) {\r\n    console.log('CarmaClouds: Sync button already exists');\r\n    return;\r\n  }\r\n\r\n  console.log('CarmaClouds: Creating sync button container...');\r\n\r\n  // Create sync button container\r\n  const buttonContainer = document.createElement('div');\r\n  buttonContainer.id = 'carmaclouds-sync-container';\r\n  buttonContainer.style.cssText = `\r\n    position: fixed;\r\n    top: 80px;\r\n    right: 20px;\r\n    z-index: 10000;\r\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\r\n  `;\r\n\r\n  // Create draggable handle\r\n  const dragHandle = document.createElement('div');\r\n  dragHandle.innerHTML = '\u22EE\u22EE';\r\n  dragHandle.style.cssText = `\r\n    background: rgba(0, 0, 0, 0.8);\r\n    color: #fff;\r\n    padding: 4px 8px;\r\n    border-radius: 4px 4px 0 0;\r\n    cursor: move;\r\n    font-size: 12px;\r\n    text-align: center;\r\n    user-select: none;\r\n    border: 1px solid #333;\r\n    border-bottom: none;\r\n  `;\r\n\r\n  // Create sync button\r\n  const syncButton = document.createElement('button');\r\n  syncButton.id = 'carmaclouds-sync-btn';\r\n  syncButton.innerHTML = `\r\n    <div style=\"display: flex; align-items: center; gap: 8px;\">\r\n      <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\r\n        <path d=\"M23 4v6h-6M1 20v-6h6\"/>\r\n        <path d=\"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15\"/>\r\n      </svg>\r\n      <span>Sync to CarmaClouds</span>\r\n    </div>\r\n  `;\r\n  \r\n  // Style the button to match DiceCloud's design\r\n  syncButton.style.cssText = `\r\n    background: linear-gradient(135deg, #16a75a 0%, #0d8045 100%);\r\n    color: #000000;\r\n    border: none;\r\n    padding: 8px 16px;\r\n    border-radius: 0 0 6px 6px;\r\n    font-weight: 600;\r\n    font-size: 14px;\r\n    cursor: pointer;\r\n    display: inline-flex;\r\n    align-items: center;\r\n    transition: all 0.2s ease;\r\n    box-shadow: 0 2px 4px rgba(0,0,0,0.1);\r\n    border: 1px solid #333;\r\n    border-top: none;\r\n  `;\r\n\r\n  syncButton.addEventListener('mouseenter', () => {\r\n    syncButton.style.background = 'linear-gradient(135deg, #1bc76b 0%, #0f9055 100%)';\r\n    syncButton.style.transform = 'translateY(-1px)';\r\n    syncButton.style.boxShadow = '0 4px 8px rgba(0,0,0,0.2)';\r\n  });\r\n\r\n  syncButton.addEventListener('mouseleave', () => {\r\n    syncButton.style.background = 'linear-gradient(135deg, #16a75a 0%, #0d8045 100%)';\r\n    syncButton.style.transform = 'translateY(0)';\r\n    syncButton.style.boxShadow = '0 2px 4px rgba(0,0,0,0.1)';\r\n  });\r\n\r\n  // Add click handler\r\n  syncButton.addEventListener('click', handleSyncToCarmaClouds);\r\n\r\n  // Add drag functionality\r\n  let isDragging = false;\r\n  let currentX;\r\n  let currentY;\r\n  let initialX;\r\n  let initialY;\r\n  let xOffset = 0;\r\n  let yOffset = 0;\r\n\r\n  // Restore saved position with bounds checking\r\n  const savedPosition = localStorage.getItem('carmaclouds_button_position');\r\n  if (savedPosition) {\r\n    try {\r\n      const pos = JSON.parse(savedPosition);\r\n      // Keep button on screen by clamping offsets\r\n      const maxRight = window.innerWidth - 200; // Button width ~200px\r\n      const maxBottom = window.innerHeight - 100; // Button height ~100px\r\n      xOffset = Math.max(-window.innerWidth + 200, Math.min(maxRight, pos.x || 0));\r\n      yOffset = Math.max(-100, Math.min(maxBottom, pos.y || 0));\r\n      buttonContainer.style.transform = `translate(${xOffset}px, ${yOffset}px)`;\r\n    } catch (e) {\r\n      console.warn('CarmaClouds: Could not restore button position');\r\n    }\r\n  }\r\n\r\n  dragHandle.addEventListener('mousedown', dragStart);\r\n  document.addEventListener('mousemove', drag);\r\n  document.addEventListener('mouseup', dragEnd);\r\n\r\n  function dragStart(e) {\r\n    initialX = e.clientX - xOffset;\r\n    initialY = e.clientY - yOffset;\r\n\r\n    if (e.target === dragHandle) {\r\n      isDragging = true;\r\n      dragHandle.style.background = 'rgba(0, 0, 0, 0.9)';\r\n    }\r\n  }\r\n\r\n  function drag(e) {\r\n    if (isDragging) {\r\n      e.preventDefault();\r\n      currentX = e.clientX - initialX;\r\n      currentY = e.clientY - initialY;\r\n\r\n      // Keep button on screen while dragging\r\n      const maxRight = window.innerWidth - 200;\r\n      const maxBottom = window.innerHeight - 100;\r\n      currentX = Math.max(-window.innerWidth + 200, Math.min(maxRight, currentX));\r\n      currentY = Math.max(-100, Math.min(maxBottom, currentY));\r\n\r\n      xOffset = currentX;\r\n      yOffset = currentY;\r\n\r\n      buttonContainer.style.transform = `translate(${currentX}px, ${currentY}px)`;\r\n    }\r\n  }\r\n\r\n  function dragEnd(e) {\r\n    if (isDragging) {\r\n      initialX = currentX;\r\n      initialY = currentY;\r\n      isDragging = false;\r\n      dragHandle.style.background = 'rgba(0, 0, 0, 0.8)';\r\n      \r\n      // Save position to localStorage\r\n      localStorage.setItem('carmaclouds_button_position', JSON.stringify({\r\n        x: xOffset,\r\n        y: yOffset\r\n      }));\r\n    }\r\n  }\r\n\r\n  // Assemble the container\r\n  buttonContainer.appendChild(dragHandle);\r\n  buttonContainer.appendChild(syncButton);\r\n\r\n  // Add to page (fixed position, not in any container)\r\n  console.log('CarmaClouds: Adding button to document.body...');\r\n  document.body.appendChild(buttonContainer);\r\n  \r\n  // Verify the button was added\r\n  const addedButton = document.querySelector('#carmaclouds-sync-btn');\r\n  console.log('CarmaClouds: Button verification:', addedButton ? 'SUCCESS' : 'FAILED');\r\n  console.log('CarmaClouds: Sync button added to DiceCloud');\r\n}\r\n\r\n// Handle sync to CarmaClouds\r\nasync function handleSyncToCarmaClouds() {\r\n  const button = document.querySelector('#carmaclouds-sync-btn');\r\n  const originalContent = button.innerHTML;\r\n  \r\n  try {\r\n    // Show loading state\r\n    button.innerHTML = `\r\n      <div style=\"display: flex; align-items: center; gap: 8px;\">\r\n        <div style=\"width: 16px; height: 16px; border: 2px solid #000; border-top: 2px solid transparent; border-radius: 50%; animation: spin 1s linear infinite;\"></div>\r\n        <span>Syncing...</span>\r\n      </div>\r\n    `;\r\n    button.disabled = true;\r\n\r\n    // Get character data from DiceCloud page\r\n    const characterData = await extractCharacterData();\r\n    \r\n    if (!characterData) {\r\n      throw new Error('Could not extract character data from DiceCloud');\r\n    }\r\n\r\n    console.log('CarmaClouds: Extracted character data:', characterData);\r\n\r\n    // Send data to extension background script\r\n    const response = await chrome.runtime.sendMessage({\r\n      type: 'SYNC_CHARACTER_TO_CARMACLOUDS',\r\n      data: characterData\r\n    });\r\n\r\n    if (response && response.success) {\r\n      // Show success state\r\n      button.innerHTML = `\r\n        <div style=\"display: flex; align-items: center; gap: 8px;\">\r\n          <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\r\n            <path d=\"M22 11.08V12a10 10 0 1 1-5.93-9.14\"></path>\r\n            <polyline points=\"22 4 12 14.01 9 11.01\"></polyline>\r\n          </svg>\r\n          <span>Synced!</span>\r\n        </div>\r\n      `;\r\n      button.style.background = 'linear-gradient(135deg, #28a745 0%, #1e7e34 100%)';\r\n      \r\n      // Reset after 3 seconds\r\n      setTimeout(() => {\r\n        button.innerHTML = originalContent;\r\n        button.style.background = 'linear-gradient(135deg, #16a75a 0%, #0d8045 100%)';\r\n        button.disabled = false;\r\n      }, 3000);\r\n    } else {\r\n      throw new Error(response?.error || 'Failed to sync character data');\r\n    }\r\n\r\n  } catch (error) {\r\n    console.error('CarmaClouds: Sync error:', error);\r\n    \r\n    // Show error state\r\n    button.innerHTML = `\r\n      <div style=\"display: flex; align-items: center; gap: 8px;\">\r\n        <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\r\n          <circle cx=\"12\" cy=\"12\" r=\"10\"></circle>\r\n          <line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"12\"></line>\r\n          <line x1=\"12\" y1=\"16\" x2=\"12.01\" y2=\"16\"></line>\r\n        </svg>\r\n        <span>Sync Failed</span>\r\n      </div>\r\n    `;\r\n    button.style.background = 'linear-gradient(135deg, #dc3545 0%, #c82333 100%)';\r\n    \r\n    // Reset after 3 seconds\r\n    setTimeout(() => {\r\n      button.innerHTML = originalContent;\r\n      button.style.background = 'linear-gradient(135deg, #16a75a 0%, #0d8045 100%)';\r\n      button.disabled = false;\r\n    }, 3000);\r\n  }\r\n}\r\n\r\n// Extract character data from DiceCloud page\r\nasync function extractCharacterData() {\r\n  try {\r\n    console.log('CarmaClouds: Extracting character data using DiceCloud API...');\r\n    \r\n    // Extract character ID from URL\r\n    function getCharacterIdFromUrl() {\r\n      const url = window.location.pathname;\r\n      console.log('CarmaClouds: Parsing URL:', url);\r\n\r\n      const patterns = [\r\n        /\\/character\\/([^/]+)/,           // /character/ABC123\r\n        /\\/character\\/([^/]+)\\/[^/]+/,    // /character/ABC123/CharName\r\n        /character=([^&]+)/,              // ?character=ABC123\r\n      ];\r\n\r\n      for (const pattern of patterns) {\r\n        const match = url.match(pattern);\r\n        if (match) {\r\n          console.log('CarmaClouds: Found character ID:', match[1]);\r\n          return match[1];\r\n        }\r\n      }\r\n\r\n      console.error('CarmaClouds: Could not extract character ID from URL');\r\n      return null;\r\n    }\r\n    \r\n    const characterId = getCharacterIdFromUrl();\r\n    if (!characterId) {\r\n      throw new Error('Not on a character page. Navigate to a character sheet first.');\r\n    }\r\n\r\n    // Get API token from extension storage\r\n    const tokenResult = await chrome.storage.local.get(['dicecloud_auth_token']);\r\n    const token = tokenResult.dicecloud_auth_token;\r\n    \r\n    if (!token) {\r\n      throw new Error('Not logged in to DiceCloud. Please login via the extension popup.');\r\n    }\r\n\r\n    console.log('CarmaClouds: Fetching character data from API...');\r\n    \r\n    // Fetch character data from DiceCloud API\r\n    const API_BASE = 'https://dicecloud.com/api';\r\n    const timestamp = Date.now();\r\n    const apiUrl = `${API_BASE}/creature/${characterId}?_t=${timestamp}`;\r\n    \r\n    const response = await fetch(apiUrl, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`,\r\n        'Content-Type': 'application/json',\r\n        'Cache-Control': 'no-cache, no-store, must-revalidate',\r\n        'Pragma': 'no-cache',\r\n        'Expires': '0'\r\n      },\r\n      cache: 'no-store'\r\n    });\r\n\r\n    console.log('CarmaClouds: API Response status:', response.status);\r\n\r\n    if (!response.ok) {\r\n      if (response.status === 401) {\r\n        throw new Error('API token expired. Please login again via the extension popup.');\r\n      }\r\n      const errorText = await response.text();\r\n      console.error('CarmaClouds: API Error Response:', errorText);\r\n      throw new Error(`API request failed: ${response.status} ${response.statusText}`);\r\n    }\r\n\r\n    const data = await response.json();\r\n    console.log('CarmaClouds: Received API data');\r\n    \r\n    // Parse the character data\r\n    if (!data.creatures || data.creatures.length === 0) {\r\n      throw new Error('No character data found in API response');\r\n    }\r\n\r\n    const creature = data.creatures[0];\r\n    const variables = (data.creatureVariables && data.creatureVariables[0]) || {};\r\n    const properties = data.creatureProperties || [];\r\n\r\n    // Extract race, class, and level from properties (not creature fields)\r\n    let characterRace = 'Unknown';\r\n    let characterClass = '';\r\n    let characterLevel = 0;\r\n    const uniqueClasses = new Set();\r\n\r\n    console.log('CarmaClouds: Extracting race, class, level from properties...');\r\n    for (const prop of properties) {\r\n      if (!prop) continue;\r\n\r\n      // Extract race (check multiple possible types)\r\n      if (prop.type === 'race' || prop.type === 'species' || prop.type === 'characterRace') {\r\n        if (prop.name) {\r\n          characterRace = prop.name;\r\n          console.log('CarmaClouds: Found race:', characterRace);\r\n        }\r\n      }\r\n\r\n      // Extract class\r\n      if (prop.type === 'class' && prop.name && !prop.inactive && !prop.disabled) {\r\n        const cleanName = prop.name.replace(/\\s*\\[Multiclass\\]/i, '').trim();\r\n        const normalizedClassName = cleanName.toLowerCase().trim();\r\n        if (!uniqueClasses.has(normalizedClassName)) {\r\n          uniqueClasses.add(normalizedClassName);\r\n          if (characterClass) {\r\n            characterClass += ` / ${cleanName}`;\r\n          } else {\r\n            characterClass = cleanName;\r\n          }\r\n          console.log('CarmaClouds: Found class:', cleanName);\r\n        }\r\n      }\r\n\r\n      // Extract level (count classLevel properties)\r\n      if (prop.type === 'classLevel' && !prop.inactive && !prop.disabled) {\r\n        characterLevel += 1;\r\n        // Also add the class name if not already added\r\n        if (prop.name) {\r\n          const cleanName = prop.name.replace(/\\s*\\[Multiclass\\]/i, '').trim();\r\n          const normalizedClassName = cleanName.toLowerCase().trim();\r\n          if (!uniqueClasses.has(normalizedClassName)) {\r\n            uniqueClasses.add(normalizedClassName);\r\n            if (characterClass) {\r\n              characterClass += ` / ${cleanName}`;\r\n            } else {\r\n              characterClass = cleanName;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    console.log('CarmaClouds: Extracted race:', characterRace, 'class:', characterClass || 'Unknown', 'level:', characterLevel);\r\n\r\n    // Extract basic character info\r\n    const characterData = {\r\n      id: creature._id || characterId,\r\n      name: creature.name || 'Unknown Character',\r\n      race: characterRace,\r\n      class: characterClass || 'Unknown',\r\n      level: characterLevel,\r\n      alignment: creature.alignment || '',\r\n      url: window.location.href,\r\n      timestamp: new Date().toISOString(),\r\n      source: 'dicecloud',\r\n      \r\n      // Core stats\r\n      hitPoints: {\r\n        current: (variables.hitPoints && (variables.hitPoints.currentValue ?? variables.hitPoints.value)) || 0,\r\n        max: (variables.hitPoints && (variables.hitPoints.total ?? variables.hitPoints.max)) || 0\r\n      },\r\n      armorClass: variables.armorClass?.total || variables.armorClass?.value || 10,\r\n      speed: variables.speed?.total || variables.speed?.value || 30,\r\n      initiative: variables.initiative?.total || variables.initiative?.value || 0,\r\n      proficiencyBonus: variables.proficiencyBonus?.total || variables.proficiencyBonus?.value || 0,\r\n      \r\n      // Abilities\r\n      attributes: {\r\n        strength: variables.strength?.total || variables.strength?.value || 10,\r\n        dexterity: variables.dexterity?.total || variables.dexterity?.value || 10,\r\n        constitution: variables.constitution?.total || variables.constitution?.value || 10,\r\n        intelligence: variables.intelligence?.total || variables.intelligence?.value || 10,\r\n        wisdom: variables.wisdom?.total || variables.wisdom?.value || 10,\r\n        charisma: variables.charisma?.total || variables.charisma?.value || 10\r\n      },\r\n      \r\n      // Store raw data for debugging\r\n      rawDiceCloudData: {\r\n        creature: creature,\r\n        variables: variables,\r\n        properties: properties\r\n      }\r\n    };\r\n\r\n    // Calculate ability modifiers\r\n    Object.keys(characterData.attributes).forEach(attr => {\r\n      const score = characterData.attributes[attr] || 10;\r\n      characterData.attributes[attr] = score;\r\n      characterData[`${attr}Mod`] = Math.floor((score - 10) / 2);\r\n    });\r\n\r\n    console.log('CarmaClouds: Successfully extracted character data:', characterData);\r\n    return characterData;\r\n    \r\n  } catch (error) {\r\n    console.error('CarmaClouds: Error extracting character data:', error);\r\n    \r\n    // Fallback to basic page extraction if API fails\r\n    console.log('CarmaClouds: Trying fallback page extraction...');\r\n    \r\n    const characterName = document.querySelector('h1, .character-name, [data-testid=\"character-name\"]')?.textContent?.trim();\r\n    if (characterName) {\r\n      return {\r\n        name: characterName,\r\n        level: 'Unknown',\r\n        class: 'Unknown', \r\n        race: 'Unknown',\r\n        url: window.location.href,\r\n        timestamp: new Date().toISOString(),\r\n        source: 'dicecloud',\r\n        extractionError: error.message\r\n      };\r\n    }\r\n    \r\n    throw error;\r\n  }\r\n}\r\n\r\n// Add CSS animation for loading spinner\r\nconst style = document.createElement('style');\r\nstyle.textContent = `\r\n  @keyframes spin {\r\n    0% { transform: rotate(0deg); }\r\n    100% { transform: rotate(360deg); }\r\n  }\r\n`;\r\ndocument.head.appendChild(style);\r\n\r\n// Watch for URL changes (for client-side routing)\r\nlet lastUrl = location.href;\r\nnew MutationObserver(() => {\r\n  const url = location.href;\r\n  if (url !== lastUrl) {\r\n    lastUrl = url;\r\n    console.log('CarmaClouds: URL changed to:', url);\r\n    // Re-check if we should add the button\r\n    setTimeout(() => {\r\n      if (!document.querySelector('#carmaclouds-sync-btn')) {\r\n        console.log('CarmaClouds: Button not found after navigation, re-adding...');\r\n        addSyncButtonToDiceCloud();\r\n      }\r\n    }, 1500);\r\n  }\r\n}).observe(document, { subtree: true, childList: true });\r\n\r\n// Initialize when page loads\r\nwaitForPageLoad();\r\n"],
  "mappings": "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",
  "names": []
}
